<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <title>_::-webkit-full-page-media hack &ndash; CSS Hacks Research</title>
    <link href="../microstrap.css" rel="stylesheet" />
    <style>
.testbed {
  height: 150px;
  width: 150px;
  line-height: 150px;/* vertical centering trick */
  white-space: nowrap;
  font-family: Helvetica,Arial,sans-serif;
  font-weight: bold;
  font-size: x-large;
  position: relative;/* to make abspos child work properly; blame CSS logic */
}
.liquid {
  height: 100%;
  width: 100%;
}
.guineapig {
  display: none;
  position: absolute;
  top: 0;
  left: 0;
}
    </style>
    <!-- Operative part of the test: -->
    <style>
_::-webkit-full-page-media, .guineapig {
  display: block;
}
    </style>
  </head>
  <body>
    <div class="container">
      <h1>The <code>_::-webkit-full-page-media</code> hack</h1>
      <p>Last updated 2016-01-08.</p>

      <h2>The hack</h2>
      <div class="scroll-x">
<pre>
_::-webkit-full-page-media, .your-selector-here {
  /* your declarations here */
}
</pre>
      </div>
      <p>
        Discovered by <a href="http://jeffclayton.wordpress.com/">Jeff Clayton</a> (<a href="http://browserstrangeness.bitbucket.org/css_hacks.html#safari">source</a>), who calls it "The Safari 7.1+ Hack".
      </p>

      <h2>Live testcase</h2>
      <div class="testbed text-center">
        <div class="yes liquid guineapig">Affected</div>
        <div class="no liquid">Unaffected</div>
      </div>
      <p>If the square above shows the word "Affected", then your browser supports this hack.</p>

      <h2>How it works</h2>
      <p>The underscore is a <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Type_selectors">tag selector</a> that selects <code>&lt;_&gt;</code> elements, which is to say elements whose tagName is "<code>_</code>" (as opposed to e.g. "<code>div</code>"). Of course, HTML doesn't define any <code>&lt;_&gt;</code> element, so this won't match anything, thus preventing this CSS rule from affecting anything besides <code>.your-selector-here</code>.</p>
      <p><code>::-webkit-full-page-media</code> is a proprietary, WebKit-specific <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Pseudo-elements">pseudo-element</a>. Its name suggests it's probably related to full-screen video. When browsers see a CSS selector with a pseudo-element they don't recognize, they drop the entire CSS rule associated with it. As of 2016-01-08, although Chrome uses Blink, which was forked from WebKit, Chrome doesn't implement the <code>::-webkit-full-page-media</code> pseudo-element. Although MS Edge and Firefox have been known to implement WebKit-prefixed features for compatibility reasons, as of 2016-01-08 neither of them has implemented this pseudo-element either. Thus, only WebKit-based Safari considers the selector valid and continues parsing it.</p>

      <h2>Affected browsers</h2>
      <p>Check out the links for corroborating screenshots.</p>
      <div class="scroll-x">
        <table class="table table-bordered">
          <caption>Test results</caption>
          <thead>
            <tr>
              <th>
                <img src="../browser-imgs/chrome_64x64.png" /><br />
                Chrome
              </th>
              <th>
                <img src="../browser-imgs/safari_64x64.png" /><br />
                Safari
              </th>
              <th>
                <img src="../browser-imgs/firefox_64x64.png" /><br />
                Firefox
              </th>
              <th>
                <img src="../browser-imgs/edge_64x64.png" /><br />
                MS Edge<a href="#edgenote"><sup>1</sup></a>
              </th>
              <th>
                <img src="../browser-imgs/ie_64x64.png" /><br />
                IE
              </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="unknown">
                48
                <br />Unknown
              </td>
              <td class="unknown">
                10
                <br />Unknown
              </td>
              <td class="unknown">
                46
                <br />Unknown
              </td>
              <td class="unknown">
                13
                <br />Unknown
              </td>
              <td class="empty"></td>
            </tr>
            <tr>
              <td class="no">
                47
                <br /><a href="chrome/v47.png">Unaffected</a>
              </td>
              <td class="yes">
                9.0.2
                <br /><a href="safari/v9-0-2.png">Affected</a>
              </td>
              <td class="no">
                45.0a2
                <br /><a href="firefox/v45-0a2.png">Unaffected</a>
              </td>
              <td class="no">
                12.10249
                <br /><a href="edge/v12-10249.png">Unaffected</a>
              </td>
              <td class="no">
                11
                <br /><a href="ie/v11.png">Unaffected</a>
              </td>
            </tr>
            <tr>
              <td class="unknown">
                46
                <br />Unknown
              </td>
              <td class="unknown">
                8
                <br />Unknown
              </td>
              <td class="no">
                44.0b7
                <br /><a href="firefox/v44-0b7.png">Unaffected</a>
              </td>
              <td class="empty"></td>
              <td class="unknown">
                10
                <br />Unknown
              </td>
            </tr>
            <tr>
              <td class="empty"></td>
              <td class="unknown">
                7
                <br />Unknown
              </td>
              <td class="no">
                43.0.4
                <br /><a href="firefox/v43-0-4.png">Unaffected</a>
              </td>
              <td class="empty"></td>
              <td class="unknown">
                9
                <br />Unknown
              </td>
            </tr>
            <tr>
              <td class="empty"></td>
              <td class="unknown">
                6
                <br />Unknown
              </td>
              <td class="empty"></td>
              <td class="empty"></td>
              <td class="unknown">
                8
                <br />Unknown
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <small class="note" id="edgenote">Note 1: MS Edge versions refer to the EdgeHTML rendering engine version, not the Edge app version shown in Edge's "About" screen. <a href="https://github.com/Fyrd/caniuse/issues/1928">See this <em>Can I Use</em> issue.</a></small>

      <footer class="text-center">
        <a href="http://browser-bugs.github.io/css-hacks/">CSS Hacks Research</a> &middot;
        <a href="https://github.com/browser-bugs/css-hacks">GitHub repo</a> &middot;
        <a href="https://github.com/browser-bugs/css-hacks/blob/gh-pages/webkit-full-page-media/index.html">Edit this page</a><br />
        &copy; 2016 <a href="http://browserbu.gs">Browser Bugs Working Group</a>. Content dual-licensed under <a href="https://github.com/browser-bugs/css-hacks/blob/master/LICENSE-MIT.txt">MIT</a> &amp; <a href="https://github.com/browser-bugs/css-hacks/blob/master/LICENSE-CC-BY.txt">CC-BY-4.0</a>.<br />
        <a href="https://twitter.com/browser_bugs" class="twitter">Twitter: @browser_bugs</a><br />
        <a href="https://validator.w3.org/nu/?doc=http%3A%2F%2Fbrowserbu.gs%2Fcss-hacks%2Fwebkit-full-page-media%2F">Validate this HTML</a>
        <p class="text-left"><small>All logos and trademarks are the property of their respective owners.</small></p>
      </footer>
    </div>
  </body>
</html>
